<!DOCTYPE HTML>
<html>

<head>
    <title>圖片Base64工具（DataURI資料）</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="index.css">
    <script type="text/javascript" src="evalCore.min.js"></script>
    <script type="text/javascript" src="vue.js"></script>
</head>

<body>
    <div class="wrapper" id="pageContainer">
        <div class="panel panel-default" style="margin-bottom: 0px;">
            <div class="panel-heading">
                <h3 class="panel-title">{{ toolName[curType] }} <span class="x-switch ui-fl-r" ref="btnSwitch"
                        @click="trans">切換為{{toolName[nextType]}}</span></h3>
            </div>
        </div>
        <div class="panel-body mod-imagebase64" ref="imageBase64" v-show="curType=='image'">
            <div class="row">
                <table>
                    <tr>
                        <td>
                            <div class="x-panel" ref="panelBox"><img id="preview" alt="" :src="previewSrc"
                                    v-show="!!previewSrc.length">
                                <div class="x-tips"><a id="upload" href="#" ref="uploadBox"
                                        @click="upload($event)">選擇圖片</a><br>或者選擇一張圖片拖拽圖片到這裡來</div>
                            </div>
                            <div class="tips">1、支援<i>螢幕截圖</i>後直接在此處粘貼進行轉化<br>2、支持<i>複製檔、複製圖片</i>線上位址在此處直接粘貼進行轉化</div>
                        </td>
                        <td><textarea id="base64Result" title="點擊自動選擇" placeholder="內容會自動生成..." readonly="readonly"
                                ref="resultBox" @click="select()" v-model="resultContent"
                                class="form-control"></textarea>
                            <div class="x-result-info">
                                <div class="x-item"><span class="x-title">原始圖片大小：</span><span
                                        id="sizeOri">{{sizeOri}}</span></div>
                                <div class="x-item"><span class="x-title">DataUri&nbsp;&nbsp;大小：</span><span
                                        id="sizeBase">{{sizeBase}}</span></div>
                            </div>
                        </td>
                    </tr>
                </table>
                <form action="#"><input type="file" id="file" accept=".jpg,.jpeg,.gif,.png,.bmp" ref="fileBox"
                        @change="convert()"></form><img id="img" alt="">
            </div>
        </div>
        <div class="panel-body mod-base64image" ref="base64Image" v-show="curType=='base64'">
            <div class="row">
                <table>
                    <tr>
                        <td><textarea id="base64Input" class="form-control" title="點擊自動選擇"
                                placeholder="在這裡粘貼DataURI資料..." v-model="txtBase64Input"></textarea></td>
                        <td>
                            <div class="x-panel"><img id="base64Image" alt="" :src="txtBase64Output"
                                    v-show="!!txtBase64Input.length" @error="loadError"></div>
                        </td>
                    </tr>
                </table>
            </div>
        </div>
        <div v-show="!!error.length" v-cloak class="x-error" v-html="error"></div>
    </div>
    <script type="text/javascript" src="index.js"></script>
    <script src="jquery-3.3.1.min.js"></script>
</body>

</html>
